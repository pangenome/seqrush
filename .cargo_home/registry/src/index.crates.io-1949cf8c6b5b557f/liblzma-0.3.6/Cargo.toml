# THIS FILE IS AUTOMATICALLY GENERATED BY CARGO
#
# When uploading crates to the registry Cargo will automatically
# "normalize" Cargo.toml files for maximal compatibility
# with all versions of Cargo and also rewrite `path` dependencies
# to registry (e.g., crates.io) dependencies.
#
# If you are reading this file be aware that the original Cargo.toml
# will likely look very different (and much more reasonable).
# See Cargo.toml.orig for the original contents.

[package]
edition = "2021"
name = "liblzma"
version = "0.3.6"
authors = [
    "Alex Crichton <alex@alexcrichton.com>",
    "Portable-Network-Archive Developers",
]
build = false
exclude = [".github/"]
autolib = false
autobins = false
autoexamples = false
autotests = false
autobenches = false
description = """
Rust bindings to liblzma providing Read/Write streams as well as low-level
in-memory encoding/decoding. forked from xz2.
"""
homepage = "https://github.com/portable-network-archive/liblzma-rs"
readme = "README.md"
keywords = [
    "lzma",
    "xz",
    "encoding",
    "wasm",
]
categories = [
    "compression",
    "api-bindings",
]
license = "MIT OR Apache-2.0"
repository = "https://github.com/portable-network-archive/liblzma-rs"

[package.metadata.docs.rs]
features = [
    "tokio-io",
    "futures",
    "parallel",
]

[lib]
name = "liblzma"
path = "src/lib.rs"

[[test]]
name = "drop-incomplete"
path = "tests/drop-incomplete.rs"

[[test]]
name = "tokio"
path = "tests/tokio.rs"

[[test]]
name = "xz"
path = "tests/xz.rs"

[dependencies.futures]
version = "0.1.26"
optional = true

[dependencies.liblzma-sys]
version = "0.3.13"
default-features = false

[dependencies.num_cpus]
version = "1.16.0"
optional = true

[dependencies.tokio-io]
version = "0.1.12"
optional = true

[dev-dependencies.quickcheck]
version = "1.0.1"

[dev-dependencies.rand]
version = "0.8.0"

[features]
bindgen = ["liblzma-sys/bindgen"]
default = ["bindgen"]
fat-lto = ["liblzma-sys/fat-lto"]
parallel = [
    "liblzma-sys/parallel",
    "num_cpus",
]
static = ["liblzma-sys/static"]
thin-lto = ["liblzma-sys/thin-lto"]
tokio = [
    "tokio-io",
    "futures",
]
wasm = ["liblzma-sys/wasm"]

[target.'cfg(all(target_family = "wasm", target_os = "unknown"))'.dev-dependencies.wasm-bindgen-test]
version = "0.3"

[target.'cfg(not(target_arch = "wasm32"))'.dev-dependencies.tokio-core]
version = "0.1.17"

[target.'cfg(target_arch = "wasm32")'.dev-dependencies.getrandom]
version = "0.2"
features = ["js"]
